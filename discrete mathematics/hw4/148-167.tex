\input{preamble.sty}

\begin{document}

\setcounter{section}{147}

\section{}
Докажите, что если $A$ неперечислимо и $A \le_m B$, то $B$ неперечислимо.

Пусть \(B\) перечислимо. Тогда \(B\) полуразрешим и есть полуразрешитель \(p\). \(p \circ f\) есть полуразрешитель для \(A\) --- противоречие.

\section{}
Пусть $A$ перечислимо и $\mathbb{N} \setminus A \le_m A$. Что можно сказать про $A$?

\(A\) перечислимо \(\Rightarrow \mathbb{N} \setminus A\) перечислимо \(\Rightarrow A\) разрешимо.

\section{}
Пусть $A$ перечислимо и $A \le_m \mathbb{N} \setminus A$. Что можно сказать про $A$?

Кажется, ничего, т.к. его дополнение может быть не перечислимым, а следовательно он может быть не разрешимым.

\section{}
Пусть дана функция $f : A \to \mathbb{N}$. Ее продолжением на множество $B \supset A$ называется функция $g:B \to \mathbb{N}$, что если $x\in A$, то $g(x) = f(x)$. Докажите, что существует вычислимая функция $f$, у которой не существует всюду определенного вычислимого продолжения.

% \subsection{Вычислимые функции можно занумеровать}

\(\exists \mathcal{F} : \N \to \N \to \N : \forall\) вычислимой \(f\) \(\exists k \in \N : f(\circ) = \mathcal{F}(k, \circ)\) --- очевидно, т.к. можно рассмотреть какую-либо модель вычислений \textit{(машины Тьюринга или ваш любимый язык программирования)}, найти для \(f\) программу \(p\) и закодировать её как число \(n \in \N\). Несложно заметить, что \(\mathcal{F}\) вычислима, но не тотальна, т.е. \(\mathcal{F} : \mathfrak{N} \subset \N \to \N \to \N\).

Искомая функция \(f : \mathfrak{N} \to \N \to \N : n \mapsto \mathcal{F}(n, n) + 42\). Почему она не продолжима до вычислимой? Пусть её продолжает \(g\). Ей соответствует некоторый индекс \(k_g\), такой что \(\mathcal{F}(k_g, n) = g(n)\). В силу этого \(\mathcal{F}\) определена на \((k_g, n) \ \ \forall n\). Но на \(\mathfrak{N}\) \(g\) есть \(f\), т.е. \(\mathcal{F}(k_g, n) = f(n) = \mathcal{F}(n, n) + 42\). Подставим \(n = k_g\), тогда \(\mathcal{F}(n, n) = \mathcal{F}(n, n) + 42\) --- противоречие.

\section{}
Два перечислимых множества $A$ и $B$, где $A \cap B = \emptyset$ называются неотделимыми, если не существует разрешимых множеств $X$ и $Y$, таких что $A \subset X$, $B \subset Y$, $X \cap Y = \emptyset$. Покажите, что существуют неотделимые множества. Указание: рассмотрите множества пар $\langle p, x\rangle$, где $p$ - программа, возвращающая целое число, для некоторого условия.

Рассмотрим функцию как из предыдущего номера, но \(n \mapsto !\mathcal{F}(n, n)\). По аналогичному утверждению \(f\) не имеет вычислимого продолжения. Тогда пусть \(A = \{n\ |\ f(n) = 0\}\) и \(B = \{n\ |\ f(n) = 1\}\). Предположим, что \(\exists X, Y\). Но характеристическая функция \(X\) есть вычислимое продолжение \(f\) --- противоречие.

\section{}
Обобщите определение неотделимых множеств на счетное семейство множеств. Докажите, что существует счетное семейство неотделимых множеств.

То же самое, но не делать \(!\), т.е. \(A_i = \{n\ |\ f(n) = i\}, f : n \mapsto \mathcal{F}(n, n) + 1\)

\(\{A_i\}_{i = 1}^{+\infty}\) --- неотделимы, если \(\forall i \ \ A_i\) перечислимо \(\exists ! \{B_i\} : \forall i \ \ A_i \subset B_i, B_i\) разрешимо \(\bigcap B_i = \emptyset\)

\section{}
Докажите, что множество программ, допускающих заданное конечное множество слов $x_1, \ldots, x_n$, перечислимо, но не разрешимо.

\subsection{Перечислимо}
\begin{minted}[escapeinside=||,mathescape=true]{python}
for t in |$\N$|:
    for prog in |$\N/_t$|:
        for x in xs:
            if prog(x, tl=t) == 1:
                print(prog)
\end{minted}

Если подразумевается, что ещё не допускаются никакие другие слова, то нужно добавить:
\begin{minted}[escapeinside=||,mathescape=true]{python}
        for w in |$\left(\sum^* \setminus xs\right)/_t$|:
            if prog(x, tl=t) != 1:
                print(prog)
\end{minted}

\subsection{Не разрешимо}

Пусть есть разрешитель \(P\). Тогда построим следующую программу:
\begin{minted}[escapeinside=||,mathescape=true]{cpp}
f(x):
    return P(f) ^ |$x \in \{x_i\}$|
\end{minted}

По классическому аргументу Тьюринга получаем противоречие.

\section{}
Докажите, что множество программ, допускающих бесконечное множество слов не разрешимо.

Пусть есть разрешитель \(P\). Тогда построим следующую программу:
\begin{minted}[escapeinside=||,mathescape=true]{c}
f(x):
    return !P(f)
\end{minted}

Если \(P(f) = 1\), то \(f \equiv 0\), а следовательно не допускает никакие слова, следовательно не допускает бесконечное множество слов. Если \(P(f) = 0\), то \(f\) допускает все слова, а их бесконечно.

\section{}
Докажите, что множество программ, зависающих на любом входе, не разрешимо.

Пусть есть разрешитель \(P\). Тогда построим следующую программу:
\begin{minted}[escapeinside=||,mathescape=true]{c}
f(x):
    if P(f)
        return 1;
    else
        while (true);
\end{minted}

Противоречие.

\section{}
Докажите, что множество программ, останавливающихся на своём собственном исходном коде, перечислимо, но не разрешимо.

\subsection{Перечислимо}
\begin{minted}[escapeinside=||,mathescape=true]{python}
for t in |$\N$|:
    for prog in |$\N/_t$|:
         if prog(prog, tl=t) != |$\perp$|:
            print(prog)
\end{minted}

\subsection{Не разрешимо}

\begin{minted}[escapeinside=||,mathescape=true]{c}
f(x):
    if P(f)
        return 1;
    else
        while (true);
    \end{minted}

\section{}
Покажите, что следующие три свойства множества $X$ равносильны: (1) $X$ можно представить в виде $A \setminus B,$ где $A$ — перечислимое множество, а $B$ — его перечислимое подмножество; (2) $X$ можно представить в виде $A \setminus B$, где $A$ и $B$ — перечислимые множества; (3) $X$ можно представить в виде симметрической разности двух перечислимых множеств.

\section{}
Покажите, что множество $X$ можно представить в виде $A\setminus (B \setminus C)$, где $A \supset B \supset C$ — перечислимые множества, если и только если его можно представить в виде симметрической разности трёх перечислимых множеств.

\section{}
Покажите, что существует множество, которое можно представить в виде симметрической разности трёх перечислимых множеств, но нельзя представить в виде симметрической разности двух перечислимых множеств

\section{}
Язык ограниченной задачи останова (bounded halting) $BH = \{ (p, t) | p$ завершается на пустом входе за $t$ шагов $\}$. Докажите, что $BH$ разрешим.

\begin{minted}{python}
D(p, t):
    return p(tl=t).halts()
\end{minted}

\section{}
Докажите, что существует разрешимое множество пар, проекция которого на одну из осей не является разрешимой.

Это \(BH\), т.к. проекция на первую ость есть \(HALT\) --- программы, которые завершаются на пустом входе за произвольное конечное число шагов.

\section{}
Докажите, что существует разрешимое множество пар, проекция которого на каждую из осей не является разрешимой.

% Как в предыдущей задаче, но вместо \(t\) будут программы, возвращающие \(t\) на пустом входе. Проекция на первую ось всё ещё \(HALT\), а на вторую тоже \(HALT\).

\section{}
Некоторое множество $S$ натуральных чисел разрешимо. Разложим все числа из $S$ на простые множители и составим множество $D$ всех простых чисел, встречающихся в этих разложениях. Можно ли утверждать, что множество $D$ перечислимо?

\begin{minted}{python}
listD():
    for s in listS():
        print(s.factorize())
\end{minted}

\section{}
Некоторое множество $S$ натуральных чисел разрешимо. Разложим все числа из $S$ на простые множители и составим множество $D$ всех простых чисел, встречающихся в этих разложениях. Можно ли утверждать, что множество $D$ разрешимо?

Нет. Пусть \(p_k\) --- \(k\)-тое простое число. Пусть \(a_i\) есть произведение всех \(p_k\) таких, что \(k < i\) и \(k\), интерпретированное как программа, на пустом вводе останавливается за \(i\) шагов. Очевидно функция \(i \mapsto a_i\) вычислима по определению. Кроме того, она возрастающая, следовательно её образ разрешим. Пусть \(S\) есть образ \(i \mapsto a_i\). Определить, лежит ли число \(p_d \in D\) эквивалентно \(HALT\), т.к. \(p_d \in D \Leftrightarrow \exists i : d.halts(tl = i) \Leftrightarrow d.halts()\)

\section{}
Множество $A \subset \mathbb{N} \times \mathbb{N}$ разрешимо. Можно ли утверждать, что множество «нижних точек» множества $A$, то есть множество $B = \{\langle x,y\rangle | (\langle x,y\rangle \in A)$ и $(\langle x,z\rangle \not\in A$ для всех $z < y)\}$ является разрешимым?

\begin{minted}{python}
B(x, y):
    if not A(x, y):
        return False
    for z in 0..y-1:
        if A(x, z):
            return False
    return True
\end{minted}

Всегда останавливается, т.к. \(A(x, y)\) всегда останавливается.

\section{}
В предыдущем задании можно ли утверждать, что $B$ перечислимо, если $A$ перечислимо?


\end{document}